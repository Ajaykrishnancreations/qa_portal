<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Chat Button with Logo</title>
    <style>
   #customChatButton {
    display: flex;
    align-items: center;
    background: transparent; 
    border: none;
    cursor: pointer;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    position: fixed;
    width: auto;
    height: auto;
}

#customChatButton img {
    width: 60px; 
    height: auto;
    border-radius: 50%; 
    border: 3px solid black; 
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2); 
    transition: transform 0.3s ease;
}

#customChatButton:hover img {
    transform: scale(1.1); 
}

    </style>
</head>
<body>
    <h1>Welcome to QA Portal!</h1>
    <p>Click the button below to chat with our Einstein Bot.</p>

    <button id="customChatButton" onclick="bootstrapChat()">
        <img src="https://turbostart.blob.core.windows.net/turbostart/hUOydNxWjXHu1646050108099.jpg" alt="Mahe Assist Logo" />
    </button>
    


    <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
    <script type='text/javascript'>
        function bootstrapChat() {
    embedded_svc.bootstrapEmbeddedService(); // Open the chat
    setTimeout(() => {
        document.getElementById("customChatButton").style.display = "none"; 
    }, 800); // Adjust the delay time (in milliseconds) if needed
}



        var initESW = function(gslbBaseURL) {
            embedded_svc.settings.displayHelpButton = false;
            embedded_svc.settings.language = '';
    
            embedded_svc.settings.enabledFeatures = ['LiveAgent'];
            embedded_svc.settings.entryFeature = 'LiveAgent';
    
            embedded_svc.settings.chatbotAvatarImgURL = 'https://turbostart.blob.core.windows.net/turbostart/hUOydNxWjXHu1646050108099.jpg';
            embedded_svc.settings.offlineSupportMinimizedTextImageURL = 'https://turbostart.blob.core.windows.net/turbostart/hUOydNxWjXHu1646050108099.jpg';


            embedded_svc.init(
			'https://maheslcm--crmqaken.sandbox.my.salesforce.com',
			'https://maheslcm--crmqaken.sandbox.my.site.com/StudentPortal',
			gslbBaseURL,
			'00DBg000001UqDV',
			'Bot_Button_Live',
			{
				baseLiveAgentContentURL: 'https://c.la12s-core1.sfdc-y37hzm.salesforceliveagent.com/content',
				deploymentId: '572Bg000002Olnp',
				buttonId: '573Bg00000119rt',
				baseLiveAgentURL: 'https://d.la12s-core1.sfdc-y37hzm.salesforceliveagent.com/chat',
				eswLiveAgentDevName: 'Bot_Button_Live',
				isOfflineSupportEnabled: false
			}
		);
		// Detect chat close and show the custom button again
            embedded_svc.addEventHandler("afterDestroy", function() {
                document.getElementById("customChatButton").style.display = "block"; 
            });
        };

	if (!window.embedded_svc) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://maheslcm--crmqaken.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}


    </script>
</body>
</html>


